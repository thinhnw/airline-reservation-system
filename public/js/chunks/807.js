"use strict";(self.webpackChunkars=self.webpackChunkars||[]).push([[807],{956:(t,e,r)=>{r.d(e,{Z:()=>o});var a=r(3645),s=r.n(a)()((function(t){return t[1]}));s.push([t.id,".banner[data-v-cf184c4a]{background:url(/images/bgbigben.jpg) rgba(0,0,0,.3);background-blend-mode:darken;background-repeat:no-repeat;background-size:cover;height:800px;width:100%}.main-tabs[data-v-cf184c4a] .nav-tabs .nav-link{border:initial;border-radius:initial;color:#fff}.main-tabs[data-v-cf184c4a] .nav-tabs .nav-link.active{color:#000}.main-tabs[data-v-cf184c4a] .nav-tabs .nav-link:not(.active){background:var(--blue)}.main-tabs[data-v-cf184c4a] .nav-tabs .nav-item:first-child .nav-link{border-top-left-radius:10px}.main-tabs[data-v-cf184c4a] .nav-tabs .nav-item:last-child .nav-link{border-top-right-radius:10px}.form-card[data-v-cf184c4a]{border:initial;border-radius:10px;box-shadow:0 0 10px rgba(0,0,0,.4)}.formStyle[data-v-cf184c4a]{background-color:#fff;border-radius:10px;padding:20px}.alertSubmit[data-v-cf184c4a]{margin-top:70px}",""]);const o=s},3807:(t,e,r)=>{r.r(e),r.d(e,{default:()=>f});var a=r(629),s=r(9669),o=r.n(s);function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const c={name:"UserEditInformation",data:function(){return{form:{email:"",firstName:"",lastName:"",password:""},checked:[{item:"male",name:"Male"},{item:"female",name:"Female"}],selected:"",userPassword:"",showCheckPass:!0}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},(0,a.Se)({userInfo:"auth/userInfo"})),created:function(){var t=this,e="/api/customer/findUser/".concat(this.userInfo.id);o().get(e).then((function(e){t.form.email=e.data.customer.email,t.form.firstName=e.data.customer.first_name,t.form.lastName=e.data.customer.last_name,t.selected=e.data.customer.gender.toLowerCase(),t.form.password=e.data.customer.password,console.log("pass "+e.data.customer.password)}))},methods:{checkUserPassword:function(t){var e=this,r="/api/customer/checkPass/".concat(t);new Promise((function(t){o().post(r,{password:e.userPassword}).then((function(e){t(e.data.result)}))})).then((function(t){t?e.showCheckPass=!1:e.$swal({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,icon:"error",title:"Error",text:"Please check your password!"})}))},onSubmit:function(t){var e=this,r=this.form.password,a="/api/customer/checkPass/".concat(t);r.length<6?this.$swal({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,icon:"error",title:"Password must be 6 digits"}):new Promise((function(t){o().post(a,{password:r}).then((function(e){t(e.data.result)}))})).then((function(r){if(r)e.$swal({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,icon:"error",title:"The password must be different from the old password"});else{var a={email:e.form.email,first_name:e.form.firstName,last_name:e.form.lastName,password:e.form.password,gender:e.selected},s="/api/customer/update/".concat(t);o().post(s,a).then((function(){e.$swal({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,icon:"success",title:"Success"}),e.$router.push({name:"home"})}))}}))},onReset:function(){this.$router.push({name:"home"})}}};var u=r(3379),l=r.n(u),d=r(956),m={insert:"head",singleton:!1};l()(d.Z,m);d.Z.locals;const f=(0,r(1900).Z)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"home-component"}},[r("div",{staticClass:"banner"},[r("b-container",{staticClass:"h-100 px-0"},[r("b-row",{staticClass:"h-100"},[r("b-col",{staticClass:"d-flex align-items-center h-100 "},[r("div",{staticClass:"w-100"},[t.showCheckPass?r("b-form",{staticClass:"formStyle",on:{submit:function(e){return e.preventDefault(),t.checkUserPassword(t.userInfo.id)},reset:t.onReset}},[r("b-form-group",{attrs:{id:"input-group-2",label:"Please enter your password:","label-for":"input-2"}},[r("b-form-input",{attrs:{id:"input-2",placeholder:"Enter password",required:"",type:"password"},model:{value:t.userPassword,callback:function(e){t.userPassword=e},expression:"userPassword"}})],1),t._v(" "),r("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Submit")]),t._v(" "),r("b-button",{attrs:{type:"reset",variant:"danger"}},[t._v("Cancel")])],1):t._e(),t._v(" "),t.showCheckPass?t._e():r("b-form",{staticClass:"formStyle",on:{submit:function(e){return e.preventDefault(),t.onSubmit(t.userInfo.id)},reset:t.onReset}},[r("b-form-group",{attrs:{id:"input-group-2",label:"First Name:","label-for":"input-2"}},[r("b-form-input",{attrs:{id:"input-2",placeholder:"Enter first name",required:""},model:{value:t.form.firstName,callback:function(e){t.$set(t.form,"firstName",e)},expression:"form.firstName"}})],1),t._v(" "),r("b-form-group",{attrs:{id:"input-group-2",label:"Last Name:","label-for":"input-2"}},[r("b-form-input",{attrs:{id:"input-2",placeholder:"Enter last name",required:""},model:{value:t.form.lastName,callback:function(e){t.$set(t.form,"lastName",e)},expression:"form.lastName"}})],1),t._v(" "),r("b-form-group",{attrs:{id:"input-group-2",label:"Password:","label-for":"input-2"}},[r("b-form-input",{attrs:{id:"input-2",placeholder:"Enter password",required:"",type:"password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),t._v(" "),r("b-form-group",{attrs:{id:"input-group-4"},scopedSlots:t._u([{key:"default",fn:function(e){e.ariaDescribedby;return[r("b-form-radio-group",{staticClass:"mb-3",attrs:{options:t.checked,"value-field":"item","text-field":"name"},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})]}}],null,!1,2813220604)}),t._v(" "),r("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Submit")]),t._v(" "),r("b-button",{attrs:{type:"reset",variant:"danger"}},[t._v("Cancel")])],1)],1)])],1)],1)],1)])}),[],!1,null,"cf184c4a",null).exports}}]);